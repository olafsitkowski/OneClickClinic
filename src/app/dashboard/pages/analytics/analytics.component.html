<div class="analytics-container">
  <div class="header-widgets">
    <div *ngFor="let widget of statsWidgets">
      <div class="stat-widget">
        <mat-icon class="icon">{{ widget.icon }}</mat-icon>
        <div class="description">
          <span>
            {{ widget.description }}
          </span>
          <span>{{ widget.count }}</span>
        </div>
      </div>
    </div>
  </div>
  <div class="slots-graph">
    <h4>Available slots</h4>
    <canvas id="slotsChart">{{ slotsChart }}</canvas>
  </div>
  <div class="table-widget">
    <h4>New appointments</h4>
    <div class="table">
      <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
        <ng-container
          matColumnDef="{{ column }}"
          *ngFor="let column of columns"
        >
          <th mat-header-cell *matHeaderCellDef>{{ column | titlecase }}</th>
          <td mat-cell *matCellDef="let user">
            {{ user[column] }}
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="columns; sticky: true"></tr>
        <tr
          mat-row
          *matRowDef="let user; columns: columns; let i = dataIndex"
          class="user-row"
          [class.odd-row]="i % 2"
          [class.even-row]="!(i % 2)"
        ></tr>
      </table>
    </div>
  </div>
</div>
